# Business Loan Risk Predictor

Author: Morris M. F. Chan

Inspired by the journal article [“Should This Loan be Approved or Denied?”: A Large Dataset with Class Assignment Guidelines](https://www.tandfonline.com/doi/full/10.1080/10691898.2018.1434342), this project aims to study factors affecting risks of loans being charged-off. We are currently using machine learning algorithms to study the associations of interest. We are currently using a public data set by U.S. Small Business Administration. The data set can be found [here](https://data.sba.gov/en/dataset/7-a-504-foia).

## Methodology

### Feature Selection

Exploratory data analysis (EDA) is done by visually inspecting the associations between each variable and the status loans. The full EDA report can be found [here](https://github.com/morrismanfung/business-loan-risk/blob/main/docs/01-eda.ipynb). By visualizing the distribution of each variables in the data set, the variables below are selected for machine learning:

- `LoanStatus` (as the target variable)
- `BorrState`
- `DeliveryMethod`
- `NaicsCode` (with NAICS sectors extracted)
- `FranchiseCode` (as a binary variable of whether the loan is associated with a franchise)
- `BusinessAge`
- `ThirdPartyDollar`
- `TermInMonths`
- `JobsSupported`

### Machine Learning Algorithm

Given the large proportion of categorical features and the large number of dummy variables created by one-hot encoding, distance-based method (e.g., K nearest neighbor) is not used.

Potentially useful algorithms include a support vector claissifier (SVC), a random forest claissifier (RFC), a Gaussian naive Bayes classifier, a logistic regression classifier, and a linear support vector classifer (LinearSVC).

### Data Splitting

Stratified splitting is done with a test size of 50%. All observations are randomly mixed ignoring when the loans are applied. It ignores situational factors associated with the global economic situations.

### Hyperparameter optimization

Optimization was performed with scikit-learn's GridSearchCV and RandomizedSearchCV with precision as the objective function to be maximized.

### Threshold tuning

To ensure the models are having sufficient precision, threshold tuning was performed by visually inspecting the precision-recall curve generated by scikit-learn's precision-recall-curve function. The manually selected thresholds for each model were included in a spreadsheet which would be read in model testing.

## Results

## Insight
